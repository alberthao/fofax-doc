(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{399:function(a,t,e){"use strict";e.r(t);var _=e(54),n=Object(_.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"fofax"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fofax"}},[a._v("#")]),a._v(" fofaX")]),a._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/xiecat/fofax/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://img.shields.io/github/v/release/xiecat/fofax",alt:"Latest release"}}),e("OutboundLink")],1),e("img",{attrs:{src:"https://img.shields.io/github/release-date/xiecat/fofax",alt:"GitHub Release Date"}}),e("img",{attrs:{src:"https://img.shields.io/github/downloads/xiecat/fofax/total",alt:"GitHub All Releases"}}),e("a",{attrs:{href:"https://github.com/xiecat/fofax/issues",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://img.shields.io/github/issues/xiecat/fofax",alt:"GitHub issues"}}),e("OutboundLink")],1)]),a._v(" "),e("h2",{attrs:{id:"_0x00-简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0x00-简介"}},[a._v("#")]),a._v(" 0x00 简介")]),a._v(" "),e("p",[a._v("fofax 是一款使用 go 编写的命令行 fofa 查询工具，定位于命令行，特点是简单并快速。目前已拥有如下功能：")]),a._v(" "),e("ul",[e("li",[a._v("基本 FOFA 语法查询")]),a._v(" "),e("li",[a._v("Icon Hash 本地/在线计算查询")]),a._v(" "),e("li",[a._v("URL 证书计算查询")]),a._v(" "),e("li",[a._v("排除蜜罐干扰")]),a._v(" "),e("li",[a._v("排除国内资产")]),a._v(" "),e("li",[a._v("一键浏览器中打开")]),a._v(" "),e("li",[a._v("联动其他安全工具")]),a._v(" "),e("li",[a._v("更多（等待您使用后的反馈）……")])]),a._v(" "),e("p",[a._v("除此之外还可以自定义 fx 语法查询，用户可以通过 yaml 格式的配置文件编写自己的特定 fx 查询规则。")]),a._v(" "),e("h2",{attrs:{id:"_0x01-下载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0x01-下载"}},[a._v("#")]),a._v(" 0x01 下载")]),a._v(" "),e("p",[a._v("点击 "),e("a",{attrs:{href:"https://github.com/xiecat/fofax/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("Releases下载链接"),e("OutboundLink")],1),a._v(" ，按照自己的系统架构选择相应的发行版本下载。")]),a._v(" "),e("h2",{attrs:{id:"_0x02-配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0x02-配置"}},[a._v("#")]),a._v(" 0x02 配置")]),a._v(" "),e("h3",{attrs:{id:"macos-linux"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#macos-linux"}},[a._v("#")]),a._v(" macOS/Linux")]),a._v(" "),e("p",[a._v("将下载下来的 fofax 压缩包解压，并建议放在 "),e("code",[a._v("/usr/local/bin/")]),a._v(" 目录下，这样的目的是在任何一个目录都可以运行 fofax 命令。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("tar -zxvf ~/Downloads/fofax_v0.1.11_darwin_amd64.tar.gz -C /usr/local/bin/\n")])])]),e("p",[a._v("第一次运行 fofax 命令会自动生成一个配置文件，位于 "),e("code",[a._v("~/.config/fofax/fofax.yaml")]),a._v("。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("fofax\n\n      ____        ____       _  __\n     / __/____   / __/____ _| |/ /\n    / /_ / __ \\ / /_ / __ `/|   /\n   / __// /_/ // __// /_/ //   |\n  /_/   \\____//_/   \\__,_//_/|_|\n                                    0.1.11\n                         fofax.xiecat.fun\n\n2021/12/23 21:21:28 [SUCC] create config file /Users/user/.config/fofax/fofax.yaml. please modify and use\n")])])]),e("p",[a._v("接下来就是对此配置文件进行配置了，一般来说只需要配置完 "),e("code",[a._v("email")]),a._v(" 和 "),e("code",[a._v("key")]),a._v(" 就可以了。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("vim ~/.config/fofax/fofax.yaml\n")])])]),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("# fofa api email\nfofa-email: ******@gmail.com\n\n# fofa api key\nfofakey: ***************\n")])])]),e("h3",{attrs:{id:"windows"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#windows"}},[a._v("#")]),a._v(" Windows")]),a._v(" "),e("p",[a._v("解压压缩包，第一次运行 fofax.exe 会在同级目录下生成一个 fofax.yaml 的配置文件。然后打开此配置文件，并填写 "),e("code",[a._v("email")]),a._v(" 和 "),e("code",[a._v("key")]),a._v("。")]),a._v(" "),e("h2",{attrs:{id:"_0x03-使用方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0x03-使用方法"}},[a._v("#")]),a._v(" 0x03 使用方法")]),a._v(" "),e("h3",{attrs:{id:"使用-tips"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-tips"}},[a._v("#")]),a._v(" 使用 Tips")]),a._v(" "),e("p",[a._v("不带任何参数时，除了会输出 ASCII Logo，还会随机输出一条使用 Tips。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("fofax\n\n      ____        ____       _  __\n     / __/____   / __/____ _| |/ /\n    / /_ / __ \\ / /_ / __ `/|   /\n   / __// /_/ // __// /_/ //   |\n  /_/   \\____//_/   \\__,_//_/|_|\n                                    0.1.11\n                         fofax.xiecat.fun\n\nfofaX is a command line fofa query tool, simple is the best!\n\nTips:\nComment: 搜索 fx 中 google-reverse, 查询时使用扩展功能必须加 -fe 参数\nUsage: fofax -q 'fx=\"google-reverse\"' -fe\n")])])]),e("h3",{attrs:{id:"帮助信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#帮助信息"}},[a._v("#")]),a._v(" 帮助信息")]),a._v(" "),e("p",[a._v("可以使用 "),e("code",[a._v("fofax -h")]),a._v(" 显示帮助信息。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('fofax -h\n\n      ____        ____       _  __\n     / __/____   / __/____ _| |/ /\n    / /_ / __ \\ / /_ / __ `/|   /\n   / __// /_/ // __// /_/ //   |\n  /_/   \\____//_/   \\__,_//_/|_|\n                                    0.1.11\n                         fofax.xiecat.fun\n\nfofaX is a command line fofa query tool, simple is the best!\n\nUsage:\n  fofax [flags]\n\nFlags:\nCONFIGS:\n   -email, -fofa-email string  Fofa API Email\n   -key, -fofakey string       Fofa API Key\n   -p, -proxy string           proxy for http like http://127.0.0.1:8080\n   -fofa-url string            Fofa url (default "https://fofa.so")\n   -debug                      Debug mode\n\nFILTERS:\n   -fs, -fetch-size int          The maximum number of query (default 100)\n   -e, -exclude                  Exclude the honeypot.\n   -ec, -exclude-country-cn      Exclude CN.\n   -ffi, -fetch-fullHost-info    URL fetch, with scheme, hostname, port\n   -fto, -fetch-titles-ofDomain  Fetch website title\n\nSINGLE QUERY/ERT/ICON:\n   -q, -query string              FoFa query statement\n   -uc, -url-cert string          Enter the certificate of the https URL to query\n   -iu, -url-to-icon-hash string  Enter the URL of an icon, calculate it and query it\n   -if, -icon-file-path string    Calculate the hash of the local icon file, then query it\n\nMULTIPLE QUERY/CERT/ICON:\n   -qf, -query-file string           Load files, query multiple statements\n   -ucf, -url-cert-file string       Read the URL from the file, calculate the cert and then query it\n   -iuf, -icon-hash-url-file string  Retrieve the URL from the file, calculate the icon hash and query it\n\nFX GRAMMER:\n   -g, -gen string           Generate fx statement files eg: default_fx.yaml\n   -fd, -fxdir string        fxdir directory (default "/Users/user/.config/fofax/fxrules")\n   -l, -lists                List of fx statements\n   -lt, -list-tags           List fx tags\n   -s, -search string        Search for fx statements. Statements are separated by semicolons eg: id=fx-2021-01;query="jupyter Unauth"\n   -tree                     Print syntax tree\n   -fe, -fofa-ext            Using extended syntax(fx)\n   -ss, -show-single string  Display a single fx message\n\nOTHER OPTIONS:\n   -config string  fofax configuration file.The file reading order(fofax.yaml,/Users/user/.config/fofax/fofax.yaml,/etc/fofa.yaml) (default "/Users/user/.config/fofax/fofax.yaml")\n   -v, -version    Show fofaX version\n   -use            Syntax queries\n   -open           Open with your browser only support pipline/-q/-uc/-iu/-if\n   -no-limit-open  No limit to the number of openings in your browser\n')])])]),e("h3",{attrs:{id:"fofa-语法规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fofa-语法规则"}},[a._v("#")]),a._v(" FOFA 语法规则")]),a._v(" "),e("p",[a._v("使用 "),e("code",[a._v("-use")]),a._v(" 参数，显示 FOFA 语法查询规则。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('fofax -use\n\n      ____        ____       _  __\n     / __/____   / __/____ _| |/ /\n    / /_ / __ \\ / /_ / __ `/|   /\n   / __// /_/ // __// /_/ //   |\n  /_/   \\____//_/   \\__,_//_/|_|\n                                    0.1.11\n                         fofax.xiecat.fun\n\n┌───────────────────────────────────────────┬──────────────────────────────────────────────────┐\n│ Query                                     │ Explanation                                      │\n├───────────────────────────────────────────┼──────────────────────────────────────────────────┤\n│ title="beijing"                           │ 从标题中搜索"北京"                               \t  │\n│ header="elastic"                          │ 从http头中搜索"elastic"                          \t │\n│ body="网络空间测绘"                         │ 从html正文中搜索"网络空间测绘"                       │\n│ title="beijing"                           │ 从标题中搜索"北京"                              \t  │\n│ header="elastic"                          │ 从http头中搜索"elastic"                            │\n│ body="网络空间测绘"                         │ 从html正文中搜索"网络空间测绘"                       │\n│ fid="kIlUsGZ8pT6AtgKSKD63iw=="            │ 查找相同的网站指纹                               \t  │\n│ domain="google.com"                       │ 搜索根域名带有google.com的网站                   \t  │\n│ icp="京ICP证030173号"                      │ 查找备案号为"京ICP证030173号"的网站                  │\n│ js_name="js/jquery.js"                    │ 查找网站正文中包含js/jquery.js的资产             \t   │\n│ js_md5="82ac3f14327a8b7ba49baa208d4eaa15" │ 查找js源码与之匹配的资产                         \t   │\n└───────────────────────────────────────────┴──────────────────────────────────────────────────┘\n')])])]),e("h3",{attrs:{id:"基础查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基础查询"}},[a._v("#")]),a._v(" 基础查询")]),a._v(" "),e("p",[a._v("有如下两种方式查询 "),e("code",[a._v('app="APACHE-Solr"')]),a._v("，不指定数量默认会输出100个 host，并且默认会对数据进行去重。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("fofax -q 'app=\"APACHE-Solr\"'\n\n      ____        ____       _  __\n     / __/____   / __/____ _| |/ /\n    / /_ / __ \\ / /_ / __ `/|   /\n   / __// /_/ // __// /_/ //   |\n  /_/   \\____//_/   \\__,_//_/|_|\n                                    0.1.11\n                         fofax.xiecat.fun\n\n2021/12/23 20:17:32 [SUCC] Fetch Data From FoFa: [100/30830]\n54.114.20.168:8443\n193.8.4.43:8983\n208.37.227.95:8983\n3.20.255.140:8983\n3.114.85.178:8983\n82.142.82.197:8983\n159.39.10.212:8983\n199.102.27.69:8983\n…………\n")])])]),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("echo 'app=\"APACHE-Solr\"' | fofax\n2021/12/23 20:17:59 [SUCC] Fetch Data From FoFa: [100/30830]\n54.114.20.168:8443\n193.8.4.43:8983\n208.37.227.95:8983\n3.20.255.140:8983\n3.114.85.178:8983\n82.142.82.197:8983\n159.39.10.212:8983\n199.102.27.69:8983\n…………\n")])])]),e("h3",{attrs:{id:"指定查询数量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#指定查询数量"}},[a._v("#")]),a._v(" 指定查询数量")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("echo 'app=\"APACHE-Solr\"' | fofax -fs 5\n2021/12/23 20:19:00 [SUCC] Fetch Data From FoFa: [5/30830]\n13.57.71.190:8443\n165.22.215.32:8983\n184.73.40.143:8443\n3.20.255.140:8983\n")])])]),e("p",[a._v("如上只输出了4条数据，是因为 fofax 自动对重复的数据进行了去重。")]),a._v(" "),e("h3",{attrs:{id:"排除查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#排除查询"}},[a._v("#")]),a._v(" 排除查询")]),a._v(" "),e("p",[a._v("添加 "),e("code",[a._v("-e")]),a._v(" 参数，排除蜜罐的干扰。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("echo 'app=\"APACHE-Solr\"' | fofax -fs 10 -e\n2021/12/23 22:56:14 [SUCC] Fetch Data From FoFa: [10/30849]\n13.126.128.253:80\n185.22.235.14:8983\n151.248.126.4:8983\n20.71.77.183:80\n23.102.46.20:443\n15.113.170.101:8443\n52.58.201.109:80\n")])])]),e("p",[a._v("添加 "),e("code",[a._v("-ec")]),a._v(" 参数，排除中国的数据。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("echo 'app=\"APACHE-Solr\"' | fofax -fs 10 -ec\n2021/12/23 22:56:36 [SUCC] Fetch Data From FoFa: [10/26044]\n15.113.170.101:8443\n52.58.201.109:80\n13.126.128.253:80\n185.22.235.14:8983\n151.248.126.4:8983\n20.71.77.183:80\n23.102.46.20:443\n")])])]),e("h3",{attrs:{id:"获取-url"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取-url"}},[a._v("#")]),a._v(" 获取 URL")]),a._v(" "),e("p",[a._v("添加 "),e("code",[a._v("-ffi")]),a._v(" 参数，根据查询语句直接获取对应的 URL（[scheme]😕/[host]:[port]）。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("echo 'app=\"APACHE-Solr\"' | fofax -fs 5\n2021/12/23 20:21:03 [SUCC] Fetch Data From FoFa: [5/30830]\nhttps://184.73.40.143:8443\nhttp://120.24.42.244:8983\nhttps://13.57.71.190:8443\nhttp://165.22.215.32:8983\n")])])]),e("h3",{attrs:{id:"获取-title"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取-title"}},[a._v("#")]),a._v(" 获取 Title")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('echo \'domain="baidu.com" && status_code="200"\' | fofax -fs 10 -fto\n2021/12/23 20:21:19 [SUCC] Fetch Data From FoFa: [10/1124]\nhttps://home.baidu.com [关于百度]\nhttp://research.baidu.com [Baidu Research]\nhttp://fecs.baidu.com [FECS - Front End Code Style Suite]\nhttp://yuntu.baidu.com [企业图谱]\nhttps://ditu.baidu.com [百度地图]\nhttps://sp2.baidu.com [百度一下，你就知道]\nhttps://tushuo.baidu.com [图说]\nhttps://ocpc.baidu.com [百度 oCPC 开发者中心]\nhttps://naotu.baidu.com [百度脑图 - 便捷的思维工具]\nhttp://usa.baidu.com [Baidu USA]\n')])])]),e("h3",{attrs:{id:"debug-模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#debug-模式"}},[a._v("#")]),a._v(" Debug 模式")]),a._v(" "),e("p",[a._v("添加 "),e("code",[a._v("-debug")]),a._v(" 参数，开启 Debug 详细模式。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('echo \'app="APACHE-Solr"\' | fofax -fs 5 -ffi -debug\n2021/12/25 21:28:57 [DEBUG] FoFa Size : 5\n2021/12/25 21:28:57 [DEBUG] FoFa Query of: app="APACHE-Solr"\n2021/12/25 21:28:57 [DEBUG] https://fofa.so/api/v1/search/all?email=**********@gmail.com&key=**************************&qbase64=YXBwPSJBUEFDSEUtU29sciI=&size=5&page=1&fields=protocol,ip,port,host\n2021/12/25 21:28:57 [DEBUG] Resp Time: 432/millis\n2021/12/25 21:28:57 [SUCC] Fetch Data From FoFa: [5/30942]\nhttp://35.183.115.103\nhttp://3.17.203.145:8983\nhttp://195.201.119.15:49154\nhttps://18.169.23.120\nhttp://174.138.127.51:8983\n')])])]),e("h3",{attrs:{id:"浏览器中打开"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器中打开"}},[a._v("#")]),a._v(" 浏览器中打开")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("echo 'app=\"APACHE-Solr\"' | fofax -open\n")])])]),a._v(" "),e("p",[e("img",{attrs:{src:"https://s2.loli.net/2021/12/25/2lvs4njYEUNmkLS.gif",alt:"openinbrowser.gif"}})]),a._v(" "),e("h3",{attrs:{id:"计算-icon-hash-并查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#计算-icon-hash-并查询"}},[a._v("#")]),a._v(" 计算 icon hash 并查询")]),a._v(" "),e("p",[a._v("两种方式，第一种是直接根据提供 icon 的 URL 来查询。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("fofax -iu https://www.baidu.com/favicon.ico -fs 5\n\n      ____        ____       _  __\n     / __/____   / __/____ _| |/ /\n    / /_ / __ \\ / /_ / __ `/|   /\n   / __// /_/ // __// /_/ //   |\n  /_/   \\____//_/   \\__,_//_/|_|\n                                    0.1.11\n                         fofax.xiecat.fun\n\n2021/12/23 20:21:59 [SUCC] Fetch Data From FoFa: [5/13284]\n47.98.104.77:8088\n154.39.217.22:80\nxueshu.mrsb.tk:80\n154.39.217.2:80\n154.39.217.28:80\n")])])]),e("p",[a._v("第二种是根据本地 icon 文件，来计算 hash 并查询。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("wget https://www.baidu.com/favicon.ico\nfofax -if favicon.ico -fs 5\n\n      ____        ____       _  __\n     / __/____   / __/____ _| |/ /\n    / /_ / __ \\ / /_ / __ `/|   /\n   / __// /_/ // __// /_/ //   |\n  /_/   \\____//_/   \\__,_//_/|_|\n                                    0.1.11\n                         fofax.xiecat.fun\n\n2021/12/23 21:25:24 [SUCC] Fetch Data From FoFa: [5/13284]\n47.98.104.77:8088\n154.39.217.22:80\nxueshu.mrsb.tk:80\n154.39.217.2:80\n154.39.217.28:80\n")])])]),e("h3",{attrs:{id:"计算证书并查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#计算证书并查询"}},[a._v("#")]),a._v(" 计算证书并查询")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("fofax -fs 5 -uc https://www.baidu.com/\n\n      ____        ____       _  __\n     / __/____   / __/____ _| |/ /\n    / /_ / __ \\ / /_ / __ `/|   /\n   / __// /_/ // __// /_/ //   |\n  /_/   \\____//_/   \\__,_//_/|_|\n                                    0.1.11\n                         fofax.xiecat.fun\n\n2021/12/23 21:29:54 [SUCC] Fetch Data From FoFa: [5/361619]\n180.97.93.146:443\n180.97.93.65:443\n112.3.25.49:443\nitv.leiqiang8.cn:80\nowa2.leiqiang8.cn:80\n")])])]),e("h2",{attrs:{id:"_0x04-fx-语法查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0x04-fx-语法查询"}},[a._v("#")]),a._v(" 0x04 fx 语法查询")]),a._v(" "),e("p",[a._v("在使用 fofa 做信息收集或者其他事情的时候，有可能这条查询语句会非常非常的长，非常不好记忆，我们总不可能专门拿个小本本去记这个 fofa 查询语句吧。")]),a._v(" "),e("p",[a._v("这个时候，就可以使用 fofax 的 fx 功能。目前 fofax 已经内置几十条 fx 语法查询规则，用户可直接使用相应参数进行查询。同时用户还可以通过 yaml 格式的配置文件，编写自己特定的 fx 语法查询规则。")]),a._v(" "),e("h4",{attrs:{id:"显示内置-fx-查询语句"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#显示内置-fx-查询语句"}},[a._v("#")]),a._v(" 显示内置 fx 查询语句")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("fofax -l\n\n      ____        ____       _  __\n     / __/____   / __/____ _| |/ /\n    / /_ / __ \\ / /_ / __ `/|   /\n   / __// /_/ // __// /_/ //   |\n  /_/   \\____//_/   \\__,_//_/|_|\n                                    0.1.11\n                         fofax.xiecat.fun\n\n┌───────────────┬────────────────────────────────┬────────────────────────────────┬────────┬─────────────┬────────┐\n│ Id            │ Query                          │ RuleName                       │ Author │ Tag         │ Type   │\n├───────────────┼────────────────────────────────┼────────────────────────────────┼────────┼─────────────┼────────┤\n│ fx-2021-1001  │ google-reverse                 │ Google反代服务器               │ fofa   │ google      │ 内置   │\n│ fx-2021-1002  │ python-simplehttp              │ Python SimpleHTTP              │ fofa  │ python      │ 内置   │\n│ fx-2021-1003  │ data-leak                      │ 社工库                         │ fofa   │ fun         │ 内置   │\n│ fx-2021-1004  │ hfs-rce                        │ 存在命令执行的HFS服务          │ fofa   │ fun         │ 内置   │\n│ fx-2021-1005  │ satellite-ftp                  │ 一键日卫星FTP？                │ fofa   │ fun         │ 内置   │\n│ fx-2021-1006  │ mk-mining                      │ mk路由器全球挖矿感染            │ fofa   │ fun         │ 内置   │\n│ fx-2021-1007  │ ss-manager-login               │ ss-Manager 登录               │ fofa   │ fun         │ 内置   │\n│ fx-2021-1008  │ heating-monitor                │ 供暖监控系统                   │ fofa   │ fun         │ 内置   │\n│ fx-2021-1009  │ free-proxy                     │ 免费代理池                     │ fofa   │ fun         │ 内置   │\n│ fx-2021-1010  │ honeypot                       │ 蜜罐                           │ fofa   │ fun         │ 内置   │\n│ fx-2021-1011  │ hacked-website                 │ 被挂黑的站点                    │ fofa   │ fun         │ 内置   │\n│ fx-2021-1012  │ jupyter-unauth                 │ Jupyter 未授权                  │ xiecat │ unauth      │ 内置   │\n│ fx-2021-11001 │ APACHE-ActiveMQ                │ APACHE ActiveMQ                │ fofa   │ log4j2,fofa │ 内置   │\n│ fx-2021-11002 │ Apache_OFBiz                   │ Apache OFBiz                   │ fofa   │ log4j2,fofa │ 内置   │\n│ fx-2021-11003 │ Jenkins                        │ Jenkins                        │ fofa   │ log4j2,fofa │ 内置   │\n│ fx-2021-11004 │ RabbitMQ                       │ RabbitMQ                       │ fofa   │ log4j2,fofa │ 内置   │\n│ fx-2021-11005 │ Apache-log4j2-Web              │ Apache log4j2 Web              │ fofa   │ log4j2,fofa │ 内置   │\n│ fx-2021-11006 │ Jedis                          │ Jedis                          │ fofa   │ log4j2,fofa │ 内置   │\n│ fx-2021-11007 │ APACHE-tika                    │ APACHE tika                    │ fofa   │ log4j2,fofa │ 内置   │\n│ fx-2021-11009 │ 致远互联-FE                     │ 致远互联 FE                    │ fofa   │ log4j2,fofa │ 内置   │\n└───────────────┴────────────────────────────────┴────────────────────────────────┴────────┴─────────────┴────────┘\n")])])]),e("h3",{attrs:{id:"列出-fx-语句的详细内容"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#列出-fx-语句的详细内容"}},[a._v("#")]),a._v(" 列出 fx 语句的详细内容")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('fofax -ss fx-2021-1001\n\n      ____        ____       _  __\n     / __/____   / __/____ _| |/ /\n    / /_ / __ \\ / /_ / __ `/|   /\n   / __// /_/ // __// /_/ //   |\n  /_/   \\____//_/   \\__,_//_/|_|\n                                    0.1.11\n                         fofax.xiecat.fun\n\nfx-2021-1001 fx-2021-1001\n┌─────────────┬─────────────────────────────────────────────────────────────────────────────────────────────┐\n│ Name        │ Value                                                                                       │\n├─────────────┼─────────────────────────────────────────────────────────────────────────────────────────────┤\n│ ID          │ fx-2021-1001                                                                                │\n│ Query       │ google-reverse                                                                              │\n│ RuleName    │ Google反代服务器                                                                            │\n│ RuleEnglish │ Google Reverse proxy                                                                        │\n│ Author      │ fofa                                                                                        │\n│ FofaQuery   │ body="var c = Array.prototype.slice.call(arguments, 1);return function() {var d=c.slice();" │\n│ Tag         │ google                                                                                      │\n│ Type        │ 内置                                                                                        │\n│ Description │ 不用挂代理就可以访问的Google搜索，但搜索记录可能会被记录。                                  │\n│ FileDir     │                                                                                             │\n└─────────────┴─────────────────────────────────────────────────────────────────────────────────────────────┘\n')])])]),e("h3",{attrs:{id:"添加-fe-参数通过-fx-语法进行查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加-fe-参数通过-fx-语法进行查询"}},[a._v("#")]),a._v(" 添加 "),e("code",[a._v("-fe")]),a._v(" 参数通过 fx 语法进行查询")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("[~] fofax -q 'fx=\"google-reverse\"' -fe -fs 5\n\n      ____        ____       _  __\n     / __/____   / __/____ _| |/ /\n    / /_ / __ \\ / /_ / __ `/|   /\n   / __// /_/ // __// /_/ //   |\n  /_/   \\____//_/   \\__,_//_/|_|\n                                    0.1.11\n                         fofax.xiecat.fun\n\n2021/12/23 22:27:02 [SUCC] fx query id:google-reverse\n2021/12/23 22:27:03 [SUCC] Fetch Data From FoFa: [5/5834]\n54.76.26.205:10000\n47.74.3.55:80\n47.90.7.161:443\n23.83.249.79:443\n45.76.10.197:8081\n")])])]),e("h3",{attrs:{id:"浏览器中直接打开"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器中直接打开"}},[a._v("#")]),a._v(" 浏览器中直接打开")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('fofax -q \'fx="google-reverse"\' -fe -open\n\n      ____        ____       _  __\n     / __/____   / __/____ _| |/ /\n    / /_ / __ \\ / /_ / __ `/|   /\n   / __// /_/ // __// /_/ //   |\n  /_/   \\____//_/   \\__,_//_/|_|\n                                    0.1.11\n                         fofax.xiecat.fun\n\n2021/12/23 22:22:21 [SUCC] fx query id:google-reverse\n2021/12/23 22:22:21 [SUCC] the query body="var c = Array.prototype.slice.call(arguments, 1);return function() {var d=c.slice();" will be opened with a browser\n')])])]),e("h3",{attrs:{id:"编写自定义的-fx-语法规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编写自定义的-fx-语法规则"}},[a._v("#")]),a._v(" 编写自定义的 fx 语法规则")]),a._v(" "),e("p",[a._v("下面给出一个例子，使用 fofa 对某个目标进行信息收集的案例。")]),a._v(" "),e("h4",{attrs:{id:"生成一个模版"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生成一个模版"}},[a._v("#")]),a._v(" 生成一个模版")]),a._v(" "),e("p",[a._v("使用 "),e("code",[a._v("-g")]),a._v(" 并指定生成的文件名指定路径，这样便生成了一个模版文件。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("fofax -g .config/fofax/fxrules/info-gathering.yaml\n\n      ____        ____       _  __\n     / __/____   / __/____ _| |/ /\n    / /_ / __ \\ / /_ / __ `/|   /\n   / __// /_/ // __// /_/ //   |\n  /_/   \\____//_/   \\__,_//_/|_|\n                                    0.1.11\n                         fofax.xiecat.fun\n\n2021/12/24 20:09:27 [INFO] Will Write Plugin file: .config/fofax/fxrules/info-gathering.yaml\n")])])]),e("p",[a._v("查看此 yaml 文件，其内容如下。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('id: fx-2021-01\nquery: 查询的字符串用于fx="jupyter Unauth" eg:(jupyter Unauth)\nrule_name: 规则名称 eg:(jupyter 未授权)\nrule_english: jupyter unauthorized\ndescription: 规则描述\nauthor: 作者<邮箱>eg:(xiecat)\nfofa_query: fofa语句 eg:(body="ipython-main-app" && title="Home Page - Select or create a notebook")"\ntag:\n- 标签1 eg(unauthorized)\n- 标签2\nsource: 语句来源\n')])])]),e("p",[a._v("按照如上说明，修改相应内容，便携一个新的fx语法规则，关于此文件的路径，在编写完整后请放在 "),e("code",[a._v("~/.config/fofax/fxrules/")]),a._v(" 这个目录。")]),a._v(" "),e("p",[a._v("为方便复制，详细内容如下（注意 title 处填写自己的目标名）：")]),a._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" fx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("2021"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("01")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" redteam"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("info"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("gathering\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("rule_name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 红队信息收集\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("rule_english")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" redteam"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("info"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("gathering\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("description")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 使用fofa针对某个目标进行红队常见的高关注CMS/OA系统的信息收集\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("author")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" xiecat\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("fofa_query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(' title="Target" '),e("span",{pre:!0,attrs:{class:"token important"}},[a._v("&&")]),a._v(' (title="平台" '),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v(' title="OA" '),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v(' title="系统" '),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v(' title="协同" '),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v(' title="办公" '),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v(' title="致远" '),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v(' title="泛微" '),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v(' title="用友" '),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v(' title="管理" '),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v(' title="后台" '),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v(' title="登录" '),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v(' title="login" '),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v(' title="admin") '),e("span",{pre:!0,attrs:{class:"token important"}},[a._v("&&")]),a._v(' country="CN"\n'),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("tag")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" redteam\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("source")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" \n\n")])])]),e("p",[a._v("下面就可以使用此 fx 查询规则了，此查询不可以说不方便。。")]),a._v(" "),e("div",{staticClass:"language-console extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("fofax -q 'fx=\"redteam-info-gathering\"' -fe -ffi\n\n      ____        ____       _  __\n     / __/____   / __/____ _| |/ /\n    / /_ / __ \\ / /_ / __ `/|   /\n   / __// /_/ // __// /_/ //   |\n  /_/   \\____//_/   \\__,_//_/|_|\n                                    0.1.11\n                         fofax.xiecat.fun\n\n2021/12/25 21:31:01 [SUCC] fx query id:redteam-info-gathering\n2021/12/25 21:31:01 [SUCC] Fetch Data From FoFa: [27/27]\nhttp://60.205.169.36:9080\nhttps://43.243.13.187\nhttp://806f52.ylhskhgyn.com\nhttps://119.28.47.98:8443\nhttp://124.70.197.255:8088\nhttps://223.72.236.165\nhttp://192.144.212.92:8080\nhttps://114.255.204.149\n......\n")])])]),e("h2",{attrs:{id:"_0x05-联动使用案例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0x05-联动使用案例"}},[a._v("#")]),a._v(" 0x05 联动使用案例")]),a._v(" "),e("blockquote",[e("p",[a._v("在红队信息收集完毕后，便可以将收集到的资产交给探活工具、指纹识别工具以及漏洞扫描工具去进行探活、指纹识别和漏洞探测。")])]),a._v(" "),e("h3",{attrs:{id:"fofax-httpx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fofax-httpx"}},[a._v("#")]),a._v(" fofax && httpx")]),a._v(" "),e("p",[a._v("CVE-2021-43798 Grafana 未授权目录遍历。")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://s2.loli.net/2021/12/25/kNx281ne7Ou5p4L.png",alt:"fofax_httpx.png"}})]),a._v(" "),e("h3",{attrs:{id:"fofax-nuclei"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fofax-nuclei"}},[a._v("#")]),a._v(" fofax && nuclei")]),a._v(" "),e("p",[a._v("将 fofax 获取的数据传递到 nuclei，然后使用 CVE-2021-43798 Template 批量漏洞扫描。")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://s2.loli.net/2021/12/25/YztbnOelLZGQAIJ.png",alt:"fofax_nuclei.png"}})]),a._v(" "),e("h2",{attrs:{id:"stargazers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#stargazers"}},[a._v("#")]),a._v(" Stargazers")]),a._v(" "),e("p",[e("a",{attrs:{href:"https://starchart.cc/xiecat/fofax",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://starchart.cc/xiecat/fofax.svg",alt:"Stargazers over time"}}),e("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=n.exports}}]);